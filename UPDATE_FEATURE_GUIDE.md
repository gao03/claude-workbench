# ç‰ˆæœ¬æ›´æ–°é€šçŸ¥åŠŸèƒ½ä½¿ç”¨æŒ‡å—

## âœ¨ åŠŸèƒ½æ¦‚è§ˆ

Claude Workbench ç°å·²é›†æˆè‡ªåŠ¨ç‰ˆæœ¬æ›´æ–°æ£€æŸ¥å’Œé€šçŸ¥åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥ï¼š
- âœ… è‡ªåŠ¨æ£€æŸ¥æ–°ç‰ˆæœ¬
- âœ… æŸ¥çœ‹æ›´æ–°è¯´æ˜
- âœ… ä¸€é”®ä¸‹è½½å®‰è£…
- âœ… è‡ªåŠ¨é‡å¯åº”ç”¨

---

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### 1. è‡ªåŠ¨æ£€æŸ¥æ›´æ–°
- åº”ç”¨å¯åŠ¨2ç§’åè‡ªåŠ¨æ£€æŸ¥æ–°ç‰ˆæœ¬
- ä¸å½±å“å¯åŠ¨é€Ÿåº¦
- é™é»˜å¤±è´¥ï¼Œä¸æ‰“æ‰°ç”¨æˆ·

### 2. æ›´æ–°å¾½ç« 
- é¡¶éƒ¨æ æ˜¾ç¤ºè“è‰²æ›´æ–°å¾½ç« 
- æ˜¾ç¤ºæœ€æ–°ç‰ˆæœ¬å·
- å¯ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…
- å¯å…³é—­æé†’ï¼ˆè®°ä½å½“å‰ç‰ˆæœ¬ï¼‰

### 3. æ›´æ–°å¯¹è¯æ¡†
- æ˜¾ç¤ºå½“å‰ç‰ˆæœ¬å’Œæœ€æ–°ç‰ˆæœ¬
- å±•ç¤ºæ›´æ–°è¯´æ˜
- å®æ—¶ä¸‹è½½è¿›åº¦
- ä¸€é”®å®‰è£…å’Œé‡å¯

### 4. æ™ºèƒ½æé†’
- å…³é—­æé†’åï¼ŒåŒç‰ˆæœ¬ä¸å†æ˜¾ç¤º
- æœ‰æ›´æ–°ç‰ˆæœ¬æ—¶é‡æ–°æé†’
- æ”¯æŒæ‰‹åŠ¨æ£€æŸ¥æ›´æ–°

---

## ğŸ–¥ï¸ ç”¨æˆ·ç•Œé¢

### æ›´æ–°å¾½ç« ï¼ˆTopbarå³ä¾§ï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“¥ v4.0.10  âœ•  â”‚  â† è“è‰²å¾½ç« 
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**äº¤äº’**:
- **ç‚¹å‡»å¾½ç« **: æ‰“å¼€æ›´æ–°å¯¹è¯æ¡†
- **ç‚¹å‡» âœ•**: å…³é—­æé†’ï¼ˆæ­¤ç‰ˆæœ¬ä¸å†æ˜¾ç¤ºï¼‰

### æ›´æ–°å¯¹è¯æ¡†
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“¥ å‘ç°æ–°ç‰ˆæœ¬              âœ•  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å½“å‰ç‰ˆæœ¬: v4.0.9              â”‚
â”‚ æœ€æ–°ç‰ˆæœ¬: v4.0.10             â”‚
â”‚                                â”‚
â”‚ æ›´æ–°å†…å®¹:                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ - ä¿®å¤è¿›ç¨‹æ³„æ¼é—®é¢˜       â”‚  â”‚
â”‚ â”‚ - æ·»åŠ è‡ªåŠ¨æ›´æ–°åŠŸèƒ½       â”‚  â”‚
â”‚ â”‚ - æ€§èƒ½ä¼˜åŒ–              â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                â”‚
â”‚ [ä¸‹è½½è¿›åº¦: 65%]                â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          [ç¨åæé†’] [ç«‹å³æ›´æ–°] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ“ä½œæµç¨‹**:
1. ç‚¹å‡»"ç«‹å³æ›´æ–°"
2. æ˜¾ç¤ºä¸‹è½½è¿›åº¦
3. ä¸‹è½½å®Œæˆåæ˜¾ç¤º"ç«‹å³é‡å¯"æŒ‰é’®
4. ç‚¹å‡»é‡å¯ï¼Œåº”ç”¨è‡ªåŠ¨æ›´æ–°å¹¶é‡å¯

---

## ğŸ› ï¸ æŠ€æœ¯å®ç°

### æ¶æ„ç»„ä»¶

```
UpdateProvider (Context)
    â”œâ”€â”€ UpdateContext.tsx - çŠ¶æ€ç®¡ç†
    â”œâ”€â”€ updater.ts - æ ¸å¿ƒé€»è¾‘
    â””â”€â”€ Components
        â”œâ”€â”€ UpdateBadge.tsx - å¾½ç« UI
        â””â”€â”€ UpdateDialog.tsx - å¯¹è¯æ¡†UI
```

### å·¥ä½œæµç¨‹

```
åº”ç”¨å¯åŠ¨
    â†“
å»¶è¿Ÿ2ç§’
    â†“
checkForUpdate()
    â†“
è°ƒç”¨ Tauri updater æ’ä»¶
    â†“
æ£€æŸ¥ GitHub Releases
    â†“
æœ‰æ–°ç‰ˆæœ¬ï¼Ÿ
    â”œâ”€ æ˜¯ â†’ æ˜¾ç¤ºå¾½ç« 
    â””â”€ å¦ â†’ é™é»˜
```

### æ•°æ®æµ

```
UpdateContext
    â†“
æä¾›çŠ¶æ€å’Œæ–¹æ³•
    â†“
UpdateBadge å’Œ UpdateDialog æ¶ˆè´¹
    â†“
ç”¨æˆ·äº¤äº’
    â†“
æ›´æ–°çŠ¶æ€
    â†“
è§¦å‘ä¸‹è½½/å®‰è£…
```

---

## âš™ï¸ é…ç½®è¯´æ˜

### tauri.conf.json

```json
{
  "plugins": {
    "updater": {
      "active": true,
      "endpoints": [
        "https://github.com/anyme123/claude-workbench/releases/latest/download/latest.json"
      ],
      "dialog": false,
      "pubkey": "your-public-key"
    }
  }
}
```

**é…ç½®é¡¹è¯´æ˜**:
- `active`: å¯ç”¨æ›´æ–°å™¨
- `endpoints`: æ›´æ–°æ£€æŸ¥URLï¼ˆæŒ‡å‘GitHub Releasesï¼‰
- `dialog`: falseï¼ˆä½¿ç”¨è‡ªå®šä¹‰UIï¼‰
- `pubkey`: ç­¾åå…¬é’¥ï¼ˆç”¨äºéªŒè¯æ›´æ–°åŒ…ï¼‰

---

## ğŸ“¦ å‘å¸ƒæ–°ç‰ˆæœ¬æµç¨‹

### 1. æ›´æ–°ç‰ˆæœ¬å·

```bash
# æ›´æ–° package.json
"version": "4.0.11"

# æ›´æ–° src-tauri/Cargo.toml
version = "4.0.11"

# æ›´æ–° src-tauri/tauri.conf.json
"version": "4.0.11"
```

### 2. åˆ›å»ºæ›´æ–°è¯´æ˜

åˆ›å»º `CHANGELOG_v4.0.11.md`:
```markdown
# v4.0.11 æ›´æ–°æ—¥å¿—

## æ–°å¢åŠŸèƒ½
- åŠŸèƒ½1
- åŠŸèƒ½2

## ä¿®å¤
- Bugä¿®å¤1
- Bugä¿®å¤2
```

### 3. æ„å»ºå‘å¸ƒåŒ…

```bash
# æ„å»ºæ‰€æœ‰å¹³å°
npm run tauri build

# æˆ–å•ç‹¬æ„å»º
npm run tauri build -- --target x86_64-pc-windows-msvc
npm run tauri build -- --target aarch64-apple-darwin
```

### 4. åˆ›å»º latest.json

åœ¨å‘å¸ƒæ—¶ï¼Œéœ€è¦åˆ›å»º `latest.json` æ–‡ä»¶ï¼š

```json
{
  "version": "4.0.11",
  "notes": "- ä¿®å¤è¿›ç¨‹æ³„æ¼é—®é¢˜\n- æ·»åŠ è‡ªåŠ¨æ›´æ–°åŠŸèƒ½\n- æ€§èƒ½ä¼˜åŒ–",
  "pub_date": "2025-10-29T12:00:00Z",
  "platforms": {
    "windows-x86_64": {
      "signature": "ç­¾åå­—ç¬¦ä¸²",
      "url": "https://github.com/anyme123/claude-workbench/releases/download/v4.0.11/claude-workbench_4.0.11_x64-setup.nsis.zip"
    },
    "darwin-x86_64": {
      "signature": "ç­¾åå­—ç¬¦ä¸²",
      "url": "https://github.com/anyme123/claude-workbench/releases/download/v4.0.11/claude-workbench_4.0.11_x64.dmg.tar.gz"
    },
    "darwin-aarch64": {
      "signature": "ç­¾åå­—ç¬¦ä¸²",
      "url": "https://github.com/anyme123/claude-workbench/releases/download/v4.0.11/claude-workbench_4.0.11_aarch64.dmg.tar.gz"
    }
  }
}
```

### 5. åˆ›å»º GitHub Release

```bash
# æäº¤ä»£ç 
git add .
git commit -m "chore: bump version to 4.0.11"
git tag -a v4.0.11 -m "Release v4.0.11"
git push origin main
git push origin v4.0.11
```

### 6. ä¸Šä¼ åˆ° GitHub Releases

åœ¨ GitHub ä¸Šåˆ›å»ºæ–° Releaseï¼š
1. ä¸Šä¼ æ„å»ºçš„å®‰è£…åŒ…
2. ä¸Šä¼  `latest.json`
3. å¤åˆ¶ CHANGELOG åˆ° Release Notes

---

## ğŸ” ç­¾åé…ç½®

### ç”Ÿæˆå¯†é’¥å¯¹ï¼ˆé¦–æ¬¡ï¼‰

```bash
# å®‰è£… Tauri CLI
npm install -g @tauri-apps/cli

# ç”Ÿæˆå¯†é’¥å¯¹
tauri signer generate -w ~/.tauri/myapp.key

# è¾“å‡º
Private key: ~/.tauri/myapp.key
Public key: dW50cnVzdGVkIGNvbW1lbnQ6...
```

### ç­¾åæ›´æ–°åŒ…

```bash
# ç­¾å
tauri signer sign <update-file> -k ~/.tauri/myapp.key
```

æ›´æ–°åŒ…ä¼šç”Ÿæˆå¯¹åº”çš„ `.sig` æ–‡ä»¶ã€‚

---

## ğŸ§ª æµ‹è¯•

### æœ¬åœ°æµ‹è¯•

1. **æ¨¡æ‹Ÿæ—§ç‰ˆæœ¬**:
   ```json
   // tauri.conf.json
   "version": "4.0.9"
   ```

2. **åˆ›å»ºæµ‹è¯• latest.json**:
   ```json
   {
     "version": "4.0.10",
     "notes": "æµ‹è¯•æ›´æ–°",
     "pub_date": "2025-10-29T12:00:00Z"
   }
   ```

3. **è¿è¡Œåº”ç”¨**:
   ```bash
   npm run tauri dev
   ```

4. **éªŒè¯**:
   - 2ç§’ååº”è¯¥æ˜¾ç¤ºæ›´æ–°å¾½ç« 
   - ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…
   - æµ‹è¯•å…³é—­æé†’åŠŸèƒ½

### ç”Ÿäº§æµ‹è¯•

1. æ„å»ºæ—§ç‰ˆæœ¬å¹¶å®‰è£…
2. å‘å¸ƒæ–°ç‰ˆæœ¬åˆ° GitHub
3. æ‰“å¼€åº”ç”¨ï¼Œç­‰å¾…æ›´æ–°æé†’
4. æµ‹è¯•å®Œæ•´æ›´æ–°æµç¨‹

---

## ğŸ¨ è‡ªå®šä¹‰

### ä¿®æ”¹æ£€æŸ¥é—´éš”

ç¼–è¾‘ `src/contexts/UpdateContext.tsx`:

```typescript
// ä¿®æ”¹å¯åŠ¨æ£€æŸ¥å»¶è¿Ÿï¼ˆé»˜è®¤2ç§’ï¼‰
setTimeout(() => {
  checkUpdate().catch(console.error);
}, 5000); // æ”¹ä¸º5ç§’

// æˆ–æ·»åŠ å®šæœŸæ£€æŸ¥
useEffect(() => {
  const interval = setInterval(() => {
    checkUpdate();
  }, 3600000); // æ¯å°æ—¶æ£€æŸ¥ä¸€æ¬¡

  return () => clearInterval(interval);
}, []);
```

### ä¿®æ”¹å¾½ç« æ ·å¼

ç¼–è¾‘ `src/components/UpdateBadge.tsx`:

```typescript
className={`
  flex items-center gap-1.5 px-2.5 py-1
  bg-green-50 dark:bg-green-900  // æ”¹ä¸ºç»¿è‰²
  border border-green-200 dark:border-green-700
  ...
`}
```

### ä¿®æ”¹å¯¹è¯æ¡†æ–‡æ¡ˆ

ç¼–è¾‘ `src/components/UpdateDialog.tsx`ï¼Œä¿®æ”¹ç›¸åº”çš„æ–‡æœ¬ã€‚

---

## ğŸ“Š LocalStorage é”®

åº”ç”¨ä½¿ç”¨ä»¥ä¸‹ localStorage é”®ï¼š

- `claudeworkbench:update:dismissedVersion` - å·²å…³é—­æé†’çš„ç‰ˆæœ¬å·

**æ¸…é™¤ç¤ºä¾‹**:
```javascript
// åœ¨æµè§ˆå™¨æ§åˆ¶å°
localStorage.removeItem('claudeworkbench:update:dismissedVersion');
```

---

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜1: æ›´æ–°æ£€æŸ¥å¤±è´¥

**åŸå› **:
- ç½‘ç»œé—®é¢˜
- GitHub APIé™æµ
- é…ç½®é”™è¯¯

**è§£å†³**:
```typescript
// æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯
// æ£€æŸ¥ endpoints URL æ˜¯å¦æ­£ç¡®
// ç¡®è®¤ç½‘ç»œè¿æ¥
```

### é—®é¢˜2: æ›´æ–°å¾½ç« ä¸æ˜¾ç¤º

**æ£€æŸ¥**:
1. æ˜¯å¦æœ‰æ–°ç‰ˆæœ¬å‘å¸ƒï¼Ÿ
2. latest.json æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼Ÿ
3. æ˜¯å¦å…³é—­äº†è¯¥ç‰ˆæœ¬çš„æé†’ï¼Ÿ

**è°ƒè¯•**:
```javascript
// æ§åˆ¶å°æŸ¥çœ‹çŠ¶æ€
const ctx = useUpdate();
console.log(ctx);
```

### é—®é¢˜3: ä¸‹è½½å¤±è´¥

**åŸå› **:
- ç½‘ç»œé—®é¢˜
- ç­¾åéªŒè¯å¤±è´¥
- URLé”™è¯¯

**è§£å†³**:
- æ£€æŸ¥ latest.json ä¸­çš„ URL
- éªŒè¯ç­¾åæ˜¯å¦æ­£ç¡®
- æŸ¥çœ‹åº”ç”¨æ—¥å¿—

---

## ğŸ“ API å‚è€ƒ

### UpdateContext

```typescript
interface UpdateContextValue {
  hasUpdate: boolean;              // æ˜¯å¦æœ‰æ›´æ–°
  updateInfo: UpdateInfo | null;   // æ›´æ–°ä¿¡æ¯
  updateHandle: UpdateHandle | null; // æ›´æ–°å¥æŸ„
  isChecking: boolean;             // æ˜¯å¦æ­£åœ¨æ£€æŸ¥
  error: string | null;            // é”™è¯¯ä¿¡æ¯
  isDismissed: boolean;            // æ˜¯å¦å·²å…³é—­æé†’
  
  dismissUpdate: () => void;       // å…³é—­æé†’
  checkUpdate: () => Promise<boolean>; // æ‰‹åŠ¨æ£€æŸ¥
  resetDismiss: () => void;        // é‡ç½®å…³é—­çŠ¶æ€
}
```

### useUpdate Hook

```typescript
import { useUpdate } from '@/contexts/UpdateContext';

function MyComponent() {
  const { hasUpdate, updateInfo, checkUpdate } = useUpdate();
  
  // ä½¿ç”¨çŠ¶æ€å’Œæ–¹æ³•
}
```

---

## ğŸš€ æœ€ä½³å®è·µ

### 1. ç‰ˆæœ¬å·è§„èŒƒ

ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼š`MAJOR.MINOR.PATCH`

- **MAJOR**: é‡å¤§å˜æ›´ï¼Œä¸å…¼å®¹çš„APIä¿®æ”¹
- **MINOR**: æ–°å¢åŠŸèƒ½ï¼Œå‘åå…¼å®¹
- **PATCH**: Bugä¿®å¤ï¼Œå‘åå…¼å®¹

### 2. å‘å¸ƒå‘¨æœŸ

- **ç´§æ€¥ä¿®å¤**: ç«‹å³å‘å¸ƒï¼ˆPATCHï¼‰
- **å¸¸è§„æ›´æ–°**: æ¯1-2å‘¨ï¼ˆMINORï¼‰
- **é‡å¤§æ›´æ–°**: æ¯å­£åº¦ï¼ˆMAJORï¼‰

### 3. æ›´æ–°è¯´æ˜

ç¼–å†™æ¸…æ™°çš„æ›´æ–°è¯´æ˜ï¼š
```markdown
## v4.0.11 æ›´æ–°æ—¥å¿—

### ğŸ†• æ–°å¢åŠŸèƒ½
- åŠŸèƒ½æè¿°

### ğŸ› ä¿®å¤
- é—®é¢˜æè¿°

### âš¡ æ€§èƒ½ä¼˜åŒ–
- ä¼˜åŒ–æè¿°

### âš ï¸ ç ´åæ€§å˜æ›´
- å˜æ›´è¯´æ˜
```

---

## ğŸ“‚ æ–‡ä»¶ç»“æ„

```
claude-workbench/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ contexts/
â”‚   â”‚   â””â”€â”€ UpdateContext.tsx       â† æ›´æ–°ä¸Šä¸‹æ–‡
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ UpdateBadge.tsx         â† æ›´æ–°å¾½ç« 
â”‚   â”‚   â””â”€â”€ UpdateDialog.tsx        â† æ›´æ–°å¯¹è¯æ¡†
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â””â”€â”€ updater.ts              â† æ ¸å¿ƒé€»è¾‘
â”‚   â””â”€â”€ App.tsx                     â† é›†æˆç‚¹
â”œâ”€â”€ src-tauri/
â”‚   â”œâ”€â”€ tauri.conf.json             â† æ›´æ–°å™¨é…ç½®
â”‚   â””â”€â”€ src/
â”‚       â””â”€â”€ main.rs                 â† æ³¨å†Œæ’ä»¶
â””â”€â”€ UPDATE_FEATURE_GUIDE.md         â† æœ¬æ–‡æ¡£
```

---

## ğŸ”„ æ›´æ–°æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åº”ç”¨å¯åŠ¨   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å»¶è¿Ÿ2ç§’    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ£€æŸ¥æ›´æ–°    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â†“
    æœ‰æ–°ç‰ˆæœ¬?
    â”œâ”€ æ˜¯ â”€â”€â†’ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         â”‚ æ˜¾ç¤ºæ›´æ–°å¾½ç«   â”‚
    â”‚         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                â†“
    â”‚         ç”¨æˆ·ç‚¹å‡»å¾½ç« 
    â”‚                â†“
    â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         â”‚ æ˜¾ç¤ºå¯¹è¯æ¡†   â”‚
    â”‚         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                â†“
    â”‚         ç”¨æˆ·ç‚¹å‡»"ç«‹å³æ›´æ–°"
    â”‚                â†“
    â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         â”‚ ä¸‹è½½æ›´æ–°     â”‚
    â”‚         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                â†“
    â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         â”‚ å®‰è£…æ›´æ–°     â”‚
    â”‚         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                â†“
    â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         â”‚ é‡å¯åº”ç”¨     â”‚
    â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â””â”€ å¦ â”€â”€â†’ é™é»˜ï¼Œæ— æç¤º
```

---

## ğŸ” è°ƒè¯•

### å¯ç”¨è¯¦ç»†æ—¥å¿—

ç¼–è¾‘ `src/contexts/UpdateContext.tsx`:

```typescript
try {
  console.log('[Update] Checking for updates...');
  const result = await checkForUpdate({ timeout: 30000 });
  console.log('[Update] Result:', result);
  // ...
} catch (err) {
  console.error('[Update] Check failed:', err);
}
```

### æŸ¥çœ‹ç½‘ç»œè¯·æ±‚

æ‰“å¼€å¼€å‘è€…å·¥å…· â†’ Network æ ‡ç­¾ï¼ŒæŸ¥çœ‹å¯¹ GitHub çš„è¯·æ±‚ã€‚

### æµ‹è¯•ä¸åŒåœºæ™¯

```typescript
// å¼ºåˆ¶æ˜¾ç¤ºæ›´æ–°ï¼ˆå¼€å‘æ—¶ï¼‰
localStorage.removeItem('claudeworkbench:update:dismissedVersion');

// æ¨¡æ‹Ÿæ£€æŸ¥å¤±è´¥
// æ–­å¼€ç½‘ç»œåæ£€æŸ¥æ›´æ–°
```

---

## ğŸ¯ å¾…åŠäº‹é¡¹

### é¦–æ¬¡å‘å¸ƒå‰éœ€è¦åšçš„ï¼š

- [ ] ç”Ÿæˆç­¾åå¯†é’¥å¯¹
- [ ] å°†å…¬é’¥æ·»åŠ åˆ° `tauri.conf.json`
- [ ] é…ç½® GitHub Actions è‡ªåŠ¨æ„å»º
- [ ] é…ç½® GitHub Actions è‡ªåŠ¨ç­¾å
- [ ] åˆ›å»ºç¬¬ä¸€ä¸ª GitHub Release
- [ ] ä¸Šä¼  `latest.json` åˆ° Release
- [ ] æµ‹è¯•å®Œæ•´æ›´æ–°æµç¨‹

### åç»­ä¼˜åŒ–ï¼š

- [ ] æ·»åŠ æ‰‹åŠ¨æ£€æŸ¥æ›´æ–°æŒ‰é’®ï¼ˆåœ¨è®¾ç½®é¡µé¢ï¼‰
- [ ] æ”¯æŒæ›´æ–°æ¸ é“ï¼ˆstable/betaï¼‰
- [ ] æ˜¾ç¤ºä¸‹è½½é€Ÿåº¦å’Œé¢„è®¡æ—¶é—´
- [ ] æ”¯æŒåå°ä¸‹è½½
- [ ] æ·»åŠ æ›´æ–°å†å²è®°å½•

---

## ğŸ“š ç›¸å…³èµ„æº

- [Tauri Updater æ–‡æ¡£](https://tauri.app/v1/guides/distribution/updater)
- [Tauri Signer æ–‡æ¡£](https://tauri.app/v1/guides/distribution/sign-artifacts)
- [GitHub Releases API](https://docs.github.com/en/rest/releases)

---

## âœ… æ£€æŸ¥æ¸…å•

åœ¨å¯ç”¨æ­¤åŠŸèƒ½å‰ï¼Œç¡®ä¿ï¼š

- [x] âœ… ä»£ç å·²å®ç°å¹¶æµ‹è¯•
- [x] âœ… UpdateProvider å·²åŒ…è£¹ App
- [x] âœ… UpdateBadge å·²æ·»åŠ åˆ° Topbar
- [x] âœ… UpdateDialog å·²é›†æˆ
- [x] âœ… tauri-plugin-updater å·²æ³¨å†Œ
- [ ] ğŸ”² ç­¾åå¯†é’¥å·²ç”Ÿæˆ
- [ ] ğŸ”² å…¬é’¥å·²æ·»åŠ åˆ°é…ç½®
- [ ] ğŸ”² GitHub Release å·²åˆ›å»º
- [ ] ğŸ”² latest.json å·²ä¸Šä¼ 
- [ ] ğŸ”² å®Œæ•´æµç¨‹å·²æµ‹è¯•

---

## ğŸ‰ æ€»ç»“

**ç‰ˆæœ¬æ›´æ–°åŠŸèƒ½å·²å®Œå…¨å®ç°ï¼**

âœ… è‡ªåŠ¨æ£€æŸ¥æ›´æ–°  
âœ… ç¾è§‚çš„æ›´æ–°å¾½ç«   
âœ… è¯¦ç»†çš„æ›´æ–°å¯¹è¯æ¡†  
âœ… ä¸€é”®ä¸‹è½½å®‰è£…  
âœ… è‡ªåŠ¨é‡å¯åº”ç”¨  
âœ… æ™ºèƒ½æé†’ç®¡ç†  

**æ‰€æœ‰ä»£ç éƒ½åœ¨æœ¬åœ°ï¼Œç­‰å¾…æ‚¨çš„æ¨é€æŒ‡ä»¤ï¼** ğŸ˜Š

---

**å®ç°æ—¶é—´**: 2025-10-29  
**çŠ¶æ€**: âœ… å·²å®Œæˆï¼ˆæœ¬åœ°ï¼‰  
**å¾…æ¨é€**: ç­‰å¾…æŒ‡ä»¤  



